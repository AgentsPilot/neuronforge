{
  "plugin": {
    "name": "slack",
    "version": "1.0.0",
    "description": "Send messages, manage channels, upload files, and interact with your Slack workspace",
    "context": "Use for team communication, sending notifications, reading messages, managing channels, looking up users, adding reactions, uploading files, and integrating Slack workflows with agent actions",
    "icon": "<Calendar className='w-5 h-5 text-purple-600'/>",
    "category": "communication",
    "isPopular": true,
    "auth_config": {
      "auth_type": "oauth2",
      "client_id": "${SLACK_CLIENT_ID}",
      "client_secret": "${SLACK_CLIENT_SECRET}",
      "redirect_uri": "${NEXT_PUBLIC_APP_URL}/oauth/callback/slack",
      "auth_url": "https://slack.com/oauth/v2/authorize",
      "token_url": "https://slack.com/api/oauth.v2.access",
      "refresh_url": "https://slack.com/api/oauth.v2.access",
      "profile_url": "https://slack.com/api/users.identity",
      "user_scopes": ["identity.basic"],
      "required_scopes": [
        "channels:read",
        "channels:manage",
        "channels:join",
        "channels:history",
        "groups:read",
        "groups:write",
        "groups:history",
        "chat:write",
        "im:read",
        "im:write",
        "im:history",
        "mpim:read",
        "mpim:history",
        "users:read",
        "reactions:read",
        "reactions:write",
        "files:read",
        "files:write"
      ]
    }
  },
  "actions": {
    "send_message": {
      "description": "Send a message to a Slack channel, direct message, or thread",
      "parameters": {
        "type": "object",
        "required": ["channel_id", "message_text"],
        "properties": {
          "channel_id": {
            "type": "string",
            "description": "The ID of the channel or DM to send the message to (e.g., C1234567890, D1234567890)",
            "x-dynamic-options": {
              "source": "list_channels",
              "description": "Fetches available Slack channels dynamically"
            }
          },
          "message_text": {
            "type": "string",
            "description": "The text content of the message to send"
          },
          "thread_timestamp": {
            "type": "string",
            "description": "Optional: timestamp of parent message to reply in a thread"
          },
          "as_user": {
            "type": "boolean",
            "description": "Optional: send as the authenticated user (default: true)",
            "default": true
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "message_text",
          "max_length": 4000,
          "error_message": "Message text cannot exceed 4000 characters"
        }
      ],
      "output_schema": {
        "type": "object",
        "description": "Confirmation of sent message with identifiers",
        "properties": {
          "message_timestamp": { "type": "string", "description": "Slack timestamp (ts) of the sent message - needed for threading, reactions, updates" },
          "channel_id": { "type": "string", "description": "Channel ID where the message was sent" },
          "success": { "type": "boolean", "description": "Whether the message was sent successfully" },
          "message_text": { "type": "string", "description": "The text content that was sent" },
          "is_threaded": { "type": "boolean", "description": "Whether the message was sent as a thread reply" }
        }
      },
      "output_guidance": {
        "success_description": "Message sent successfully with timestamp for future reference",
        "sample_output": {
          "message_timestamp": "1234567890.123456",
          "channel_id": "C1234567890",
          "success": true,
          "message_text": "Hello, world!",
          "is_threaded": false
        },
        "common_errors": {
          "channel_not_found": "Channel not found. Check the channel ID.",
          "not_in_channel": "Bot is not a member of this channel. Invite the bot first.",
          "rate_limited": "Slack rate limit exceeded. Please wait and try again."
        }
      }
    },
    "read_messages": {
      "description": "Read message history from a Slack channel or direct message",
      "parameters": {
        "type": "object",
        "required": ["channel_id"],
        "properties": {
          "channel_id": {
            "type": "string",
            "description": "The ID of the channel or DM to read messages from"
          },
          "limit": {
            "type": "number",
            "description": "Maximum number of messages to retrieve (default: 15, max: 100)",
            "default": 15
          },
          "oldest_timestamp": {
            "type": "string",
            "description": "Optional: only messages after this timestamp"
          },
          "latest_timestamp": {
            "type": "string",
            "description": "Optional: only messages before this timestamp"
          },
          "include_all_metadata": {
            "type": "boolean",
            "description": "Include full message metadata (reactions, attachments, etc.)",
            "default": false
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "limit",
          "min": 1,
          "max": 100,
          "error_message": "Limit must be between 1 and 100"
        }
      ],
      "output_schema": {
        "type": "object",
        "description": "Message history from the channel",
        "properties": {
          "messages": {
            "type": "array",
            "description": "Array of messages in reverse chronological order",
            "items": {
              "type": "object",
              "properties": {
                "timestamp": { "type": "string", "description": "Message timestamp (ts)" },
                "user": { "type": "string", "description": "User ID who sent the message" },
                "text": { "type": "string", "description": "Message content" },
                "thread_timestamp": { "type": "string", "description": "Parent thread timestamp if in a thread" },
                "reply_count": { "type": "integer", "description": "Number of replies if thread parent" },
                "reactions": { "type": "array", "description": "Reactions on the message (if include_all_metadata)" },
                "attachments": { "type": "array", "description": "File attachments (if include_all_metadata)" },
                "is_thread_parent": { "type": "boolean", "description": "Whether this message started a thread" }
              }
            }
          },
          "message_count": { "type": "integer", "description": "Number of messages returned" },
          "has_more": { "type": "boolean", "description": "Whether more messages are available" },
          "channel_id": { "type": "string", "description": "The channel that was queried" }
        }
      },
      "output_guidance": {
        "success_description": "Returns message history with user info and timestamps",
        "sample_output": {
          "messages": [
            {
              "timestamp": "1234567890.123456",
              "user": "U1234567890",
              "text": "Hello everyone!",
              "thread_timestamp": null,
              "reply_count": 0,
              "is_thread_parent": false
            }
          ],
          "message_count": 1,
          "has_more": false,
          "channel_id": "C1234567890"
        },
        "common_errors": {
          "channel_not_found": "Channel not found. Check the channel ID.",
          "not_in_channel": "Bot is not a member of this channel.",
          "rate_limited": "Slack rate limit exceeded. Please wait and try again."
        }
      }
    },
    "update_message": {
      "description": "Update or edit a previously sent message",
      "parameters": {
        "type": "object",
        "required": ["channel_id", "message_timestamp", "new_message_text"],
        "properties": {
          "channel_id": {
            "type": "string",
            "description": "The ID of the channel containing the message"
          },
          "message_timestamp": {
            "type": "string",
            "description": "The timestamp of the message to update"
          },
          "new_message_text": {
            "type": "string",
            "description": "The new text content for the message"
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "new_message_text",
          "max_length": 4000,
          "error_message": "Message text cannot exceed 4000 characters"
        }
      ],
      "output_schema": {
        "type": "object",
        "description": "Confirmation of message update",
        "properties": {
          "message_timestamp": { "type": "string", "description": "Timestamp of the updated message" },
          "channel_id": { "type": "string", "description": "Channel containing the message" },
          "text": { "type": "string", "description": "The new message text" },
          "success": { "type": "boolean", "description": "Whether the update was successful" },
          "updated_at": { "type": "string", "description": "ISO 8601 timestamp of when the update occurred" }
        }
      },
      "output_guidance": {
        "success_description": "Message updated successfully",
        "sample_output": {
          "message_timestamp": "1234567890.123456",
          "channel_id": "C1234567890",
          "text": "Updated message content",
          "success": true,
          "updated_at": "2025-01-01T00:00:00.000Z"
        },
        "common_errors": {
          "message_not_found": "Message not found. Check the timestamp.",
          "cant_update_message": "Cannot update this message. Only messages sent by the bot can be updated.",
          "channel_not_found": "Channel not found. Check the channel ID."
        }
      }
    },
    "add_reaction": {
      "description": "Add an emoji reaction to a message",
      "parameters": {
        "type": "object",
        "required": ["channel_id", "message_timestamp", "emoji_name"],
        "properties": {
          "channel_id": {
            "type": "string",
            "description": "The ID of the channel containing the message"
          },
          "message_timestamp": {
            "type": "string",
            "description": "The timestamp of the message to react to"
          },
          "emoji_name": {
            "type": "string",
            "description": "The name of the emoji without colons (e.g., 'thumbsup', 'heart', 'fire')"
          }
        }
      },
      "rules": [],
      "output_schema": {
        "type": "object",
        "description": "Confirmation of reaction added",
        "properties": {
          "success": { "type": "boolean", "description": "Whether the reaction was added successfully" },
          "emoji": { "type": "string", "description": "The emoji name that was added (without colons)" },
          "message_timestamp": { "type": "string", "description": "Timestamp of the message that was reacted to" },
          "channel_id": { "type": "string", "description": "Channel containing the message" }
        }
      },
      "output_guidance": {
        "success_description": "Reaction added successfully",
        "sample_output": {
          "success": true,
          "emoji": "thumbsup",
          "message_timestamp": "1234567890.123456",
          "channel_id": "C1234567890"
        },
        "common_errors": {
          "already_reacted": "This reaction has already been added to the message.",
          "message_not_found": "Message not found. Check the timestamp.",
          "invalid_name": "Invalid emoji name."
        }
      }
    },
    "remove_reaction": {
      "description": "Remove an emoji reaction from a message",
      "parameters": {
        "type": "object",
        "required": ["channel_id", "message_timestamp", "emoji_name"],
        "properties": {
          "channel_id": {
            "type": "string",
            "description": "The ID of the channel containing the message"
          },
          "message_timestamp": {
            "type": "string",
            "description": "The timestamp of the message to remove reaction from"
          },
          "emoji_name": {
            "type": "string",
            "description": "The name of the emoji without colons (e.g., 'thumbsup', 'heart')"
          }
        }
      },
      "rules": [],
      "output_schema": {
        "type": "object",
        "description": "Confirmation of reaction removed",
        "properties": {
          "success": { "type": "boolean", "description": "Whether the reaction was removed successfully" },
          "emoji": { "type": "string", "description": "The emoji name that was removed (without colons)" },
          "message_timestamp": { "type": "string", "description": "Timestamp of the message" },
          "channel_id": { "type": "string", "description": "Channel containing the message" }
        }
      },
      "output_guidance": {
        "success_description": "Reaction removed successfully",
        "sample_output": {
          "success": true,
          "emoji": "thumbsup",
          "message_timestamp": "1234567890.123456",
          "channel_id": "C1234567890"
        },
        "common_errors": {
          "no_reaction": "This reaction does not exist on the message.",
          "message_not_found": "Message not found. Check the timestamp."
        }
      }
    },
    "create_channel": {
      "description": "Create a new Slack channel (public or private)",
      "parameters": {
        "type": "object",
        "required": ["channel_name"],
        "properties": {
          "channel_name": {
            "type": "string",
            "description": "The name of the channel (lowercase letters, numbers, hyphens, underscores only)"
          },
          "is_private": {
            "type": "boolean",
            "description": "Whether the channel should be private (default: false)",
            "default": false
          },
          "description": {
            "type": "string",
            "description": "Optional: a description for the channel"
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "channel_name",
          "max_length": 80,
          "error_message": "Channel name must be 80 characters or less"
        },
        {
          "rule_type": "confirmation",
          "field": "channel_name",
          "message": "You are about to create a new channel named '{channel_name}'. This action cannot be easily undone. Proceed?"
        }
      ],
      "output_schema": {
        "type": "object",
        "description": "Details of the newly created channel",
        "properties": {
          "channel_id": { "type": "string", "description": "ID of the newly created channel" },
          "channel_name": { "type": "string", "description": "Name of the channel" },
          "is_private": { "type": "boolean", "description": "Whether the channel is private" },
          "success": { "type": "boolean", "description": "Whether creation was successful" },
          "created_at": { "type": "string", "description": "ISO 8601 timestamp of creation" }
        }
      },
      "output_guidance": {
        "success_description": "Channel created successfully",
        "sample_output": {
          "channel_id": "C1234567890",
          "channel_name": "new-channel",
          "is_private": false,
          "success": true,
          "created_at": "2025-01-01T00:00:00.000Z"
        },
        "common_errors": {
          "name_taken": "A channel with this name already exists.",
          "invalid_name": "Invalid channel name. Use lowercase letters, numbers, hyphens, and underscores only."
        }
      }
    },
    "list_channels": {
      "description": "List all channels the bot has access to",
      "parameters": {
        "type": "object",
        "properties": {
          "types": {
            "type": "string",
            "description": "Comma-separated types: public_channel, private_channel, im, mpim (default: public_channel,private_channel)",
            "default": "public_channel,private_channel"
          },
          "limit": {
            "type": "number",
            "description": "Maximum number of channels to retrieve (default: 100)",
            "default": 100
          },
          "exclude_archived": {
            "type": "boolean",
            "description": "Exclude archived channels (default: true)",
            "default": true
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "limit",
          "min": 1,
          "max": 1000,
          "error_message": "Limit must be between 1 and 1000"
        }
      ],
      "output_schema": {
        "type": "object",
        "description": "List of accessible channels",
        "properties": {
          "channels": {
            "type": "array",
            "description": "Array of channel objects",
            "items": {
              "type": "object",
              "properties": {
                "channel_id": { "type": "string", "description": "Channel ID" },
                "name": { "type": "string", "description": "Channel name" },
                "is_private": { "type": "boolean", "description": "Whether the channel is private" },
                "is_archived": { "type": "boolean", "description": "Whether the channel is archived" },
                "member_count": { "type": "integer", "description": "Number of members in the channel" },
                "topic": { "type": "string", "description": "Channel topic" },
                "purpose": { "type": "string", "description": "Channel purpose/description" },
                "created": { "type": "integer", "description": "Unix timestamp of channel creation" }
              }
            }
          },
          "total_count": { "type": "integer", "description": "Number of channels returned" },
          "has_more": { "type": "boolean", "description": "Whether more channels are available via pagination" }
        }
      },
      "output_guidance": {
        "success_description": "Returns list of channels with details",
        "sample_output": {
          "channels": [
            {
              "channel_id": "C1234567890",
              "name": "general",
              "is_private": false,
              "is_archived": false,
              "member_count": 50,
              "topic": "Company announcements",
              "purpose": "General discussions",
              "created": 1609459200
            }
          ],
          "total_count": 1,
          "has_more": false
        },
        "common_errors": {
          "rate_limited": "Slack rate limit exceeded. Please wait and try again."
        }
      }
    },
    "list_users": {
      "description": "Get a list of all users in the Slack workspace",
      "parameters": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "number",
            "description": "Maximum number of users to retrieve (default: 100)",
            "default": 100
          },
          "include_deleted": {
            "type": "boolean",
            "description": "Include deleted/deactivated users (default: false)",
            "default": false
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "limit",
          "min": 1,
          "max": 1000,
          "error_message": "Limit must be between 1 and 1000"
        }
      ],
      "output_schema": {
        "type": "object",
        "description": "List of workspace users",
        "properties": {
          "users": {
            "type": "array",
            "description": "Array of user objects",
            "items": {
              "type": "object",
              "properties": {
                "user_id": { "type": "string", "description": "User ID" },
                "name": { "type": "string", "description": "Username" },
                "real_name": { "type": "string", "description": "Full name" },
                "display_name": { "type": "string", "description": "Display name" },
                "email": { "type": "string", "description": "Email address" },
                "is_bot": { "type": "boolean", "description": "Whether this is a bot user" },
                "is_admin": { "type": "boolean", "description": "Whether user is a workspace admin" },
                "is_owner": { "type": "boolean", "description": "Whether user is a workspace owner" },
                "status": { "type": "string", "description": "User's status text" },
                "avatar": { "type": "string", "description": "URL to 72px avatar image" }
              }
            }
          },
          "total_count": { "type": "integer", "description": "Number of users returned" }
        }
      },
      "output_guidance": {
        "success_description": "Returns list of workspace users with profile info",
        "sample_output": {
          "users": [
            {
              "user_id": "U1234567890",
              "name": "jsmith",
              "real_name": "John Smith",
              "display_name": "John",
              "email": "john@example.com",
              "is_bot": false,
              "is_admin": false,
              "is_owner": false,
              "status": "Working from home",
              "avatar": "https://avatars.slack-edge.com/..."
            }
          ],
          "total_count": 1
        },
        "common_errors": {
          "rate_limited": "Slack rate limit exceeded. Please wait and try again."
        }
      }
    },
    "get_user_info": {
      "description": "Get detailed information about a specific user",
      "parameters": {
        "type": "object",
        "required": ["user_id"],
        "properties": {
          "user_id": {
            "type": "string",
            "description": "The ID of the user (e.g., U1234567890)"
          }
        }
      },
      "rules": [],
      "output_schema": {
        "type": "object",
        "description": "Detailed user profile information",
        "properties": {
          "user_id": { "type": "string", "description": "User ID" },
          "name": { "type": "string", "description": "Username" },
          "real_name": { "type": "string", "description": "Full name" },
          "display_name": { "type": "string", "description": "Display name" },
          "email": { "type": "string", "description": "Email address" },
          "phone": { "type": "string", "description": "Phone number" },
          "title": { "type": "string", "description": "Job title" },
          "status_text": { "type": "string", "description": "Status message" },
          "status_emoji": { "type": "string", "description": "Status emoji" },
          "is_bot": { "type": "boolean", "description": "Whether this is a bot user" },
          "is_admin": { "type": "boolean", "description": "Whether user is a workspace admin" },
          "is_owner": { "type": "boolean", "description": "Whether user is a workspace owner" },
          "is_primary_owner": { "type": "boolean", "description": "Whether user is the primary owner" },
          "timezone": { "type": "string", "description": "User's timezone identifier" },
          "timezone_label": { "type": "string", "description": "Human-readable timezone name" },
          "avatar_512": { "type": "string", "description": "URL to 512px avatar" },
          "avatar_192": { "type": "string", "description": "URL to 192px avatar" },
          "avatar_72": { "type": "string", "description": "URL to 72px avatar" }
        }
      },
      "output_guidance": {
        "success_description": "Returns detailed user profile information",
        "sample_output": {
          "user_id": "U1234567890",
          "name": "jsmith",
          "real_name": "John Smith",
          "display_name": "John",
          "email": "john@example.com",
          "phone": "+1-555-123-4567",
          "title": "Software Engineer",
          "status_text": "In a meeting",
          "status_emoji": ":calendar:",
          "is_bot": false,
          "is_admin": false,
          "is_owner": false,
          "is_primary_owner": false,
          "timezone": "America/New_York",
          "timezone_label": "Eastern Standard Time",
          "avatar_512": "https://avatars.slack-edge.com/..."
        },
        "common_errors": {
          "user_not_found": "User not found. Check the user ID."
        }
      }
    },
    "upload_file": {
      "description": "Upload and share a file to Slack channels or direct messages",
      "parameters": {
        "type": "object",
        "required": ["filename", "file_content"],
        "properties": {
          "filename": {
            "type": "string",
            "description": "The name of the file to upload"
          },
          "file_content": {
            "type": "string",
            "description": "The file content (base64 encoded for binary files, or plain text)"
          },
          "channel_ids": {
            "type": "array",
            "description": "Array of channel IDs where the file should be shared",
            "items": {
              "type": "string"
            }
          },
          "title": {
            "type": "string",
            "description": "Optional: title for the file"
          },
          "initial_comment": {
            "type": "string",
            "description": "Optional: message to include with the file"
          }
        }
      },
      "rules": [
        {
          "rule_type": "confirmation",
          "field": "file_content",
          "message": "You are about to upload a file named '{filename}' to Slack. Proceed?"
        }
      ],
      "output_schema": {
        "type": "object",
        "description": "Details of the uploaded file",
        "properties": {
          "file_id": { "type": "string", "description": "ID of the uploaded file" },
          "filename": { "type": "string", "description": "Name of the file" },
          "title": { "type": "string", "description": "Title of the file" },
          "url": { "type": "string", "description": "Permalink URL to access the file" },
          "channels": {
            "type": "array",
            "description": "Channel IDs where file was shared",
            "items": { "type": "string" }
          },
          "success": { "type": "boolean", "description": "Whether upload was successful" },
          "uploaded_at": { "type": "string", "description": "ISO 8601 timestamp of upload" }
        }
      },
      "output_guidance": {
        "success_description": "File uploaded and shared successfully",
        "sample_output": {
          "file_id": "F1234567890",
          "filename": "report.pdf",
          "title": "Monthly Report",
          "url": "https://files.slack.com/files-pri/...",
          "channels": ["C1234567890"],
          "success": true,
          "uploaded_at": "2025-01-01T00:00:00.000Z"
        },
        "common_errors": {
          "file_too_large": "File exceeds maximum size limit.",
          "channel_not_found": "One or more channel IDs not found.",
          "rate_limited": "Slack rate limit exceeded. Please wait and try again."
        }
      }
    }
  }
}
