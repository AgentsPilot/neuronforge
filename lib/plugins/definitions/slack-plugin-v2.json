{
  "plugin": {
    "name": "slack",
    "version": "1.0.0",
    "description": "Send messages, manage channels, upload files, and interact with your Slack workspace",
    "context": "Use for team communication, sending notifications, reading messages, managing channels, looking up users, adding reactions, uploading files, and integrating Slack workflows with agent actions",
    "icon": "<Calendar className='w-5 h-5 text-purple-600'/>",
    "category": "communication",
    "isPopular": true,
    "auth_config": {
      "auth_type": "oauth2",
      "client_id": "${SLACK_CLIENT_ID}",
      "client_secret": "${SLACK_CLIENT_SECRET}",
      "redirect_uri": "${SLACK_REDIRECT_URI}/oauth/callback/slack",
      "auth_url": "https://slack.com/oauth/v2/authorize",
      "token_url": "https://slack.com/api/oauth.v2.access",
      "refresh_url": "https://slack.com/api/oauth.v2.access",
      "profile_url": "https://slack.com/api/users.identity",
      "user_scopes": ["identity.basic"],
      "required_scopes": [
        "channels:read",
        "channels:manage",
        "channels:join",
        "channels:history",
        "groups:read",
        "groups:write",
        "groups:history",
        "chat:write",
        "im:read",
        "im:write",
        "im:history",
        "mpim:read",
        "mpim:history",
        "users:read",
        "reactions:read",
        "reactions:write",
        "files:read",
        "files:write"
      ]
    }
  },
  "actions": {
    "send_message": {
      "description": "Send a message to a Slack channel, direct message, or thread",
      "parameters": {
        "type": "object",
        "required": ["channel_id", "message_text"],
        "properties": {
          "channel_id": {
            "type": "string",
            "description": "The ID of the channel or DM to send the message to (e.g., C1234567890, D1234567890)"
          },
          "message_text": {
            "type": "string",
            "description": "The text content of the message to send"
          },
          "thread_timestamp": {
            "type": "string",
            "description": "Optional: timestamp of parent message to reply in a thread"
          },
          "as_user": {
            "type": "boolean",
            "description": "Optional: send as the authenticated user (default: true)",
            "default": true
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "message_text",
          "max_length": 4000,
          "error_message": "Message text cannot exceed 4000 characters"
        }
      ],
      "output": {
        "message_timestamp": "The timestamp of the sent message",
        "channel_id": "The channel where the message was sent",
        "success": "Boolean indicating if the message was sent successfully"
      },
      "output_guidance": "Always include the message_timestamp in your response, as it's needed for threading, reactions, and message updates."
    },
    "read_messages": {
      "description": "Read message history from a Slack channel or direct message",
      "parameters": {
        "type": "object",
        "required": ["channel_id"],
        "properties": {
          "channel_id": {
            "type": "string",
            "description": "The ID of the channel or DM to read messages from"
          },
          "limit": {
            "type": "number",
            "description": "Maximum number of messages to retrieve (default: 15, max: 100)",
            "default": 15
          },
          "oldest_timestamp": {
            "type": "string",
            "description": "Optional: only messages after this timestamp"
          },
          "latest_timestamp": {
            "type": "string",
            "description": "Optional: only messages before this timestamp"
          },
          "include_all_metadata": {
            "type": "boolean",
            "description": "Include full message metadata (reactions, attachments, etc.)",
            "default": false
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "limit",
          "min": 1,
          "max": 100,
          "error_message": "Limit must be between 1 and 100"
        }
      ],
      "output": {
        "messages": "Array of message objects with text, user, timestamp, and metadata",
        "has_more": "Boolean indicating if there are more messages available",
        "channel_id": "The channel ID that was queried"
      },
      "output_guidance": "Present messages in chronological order with user information and timestamps. Note that this endpoint is rate-limited."
    },
    "update_message": {
      "description": "Update or edit a previously sent message",
      "parameters": {
        "type": "object",
        "required": ["channel_id", "message_timestamp", "new_message_text"],
        "properties": {
          "channel_id": {
            "type": "string",
            "description": "The ID of the channel containing the message"
          },
          "message_timestamp": {
            "type": "string",
            "description": "The timestamp of the message to update"
          },
          "new_message_text": {
            "type": "string",
            "description": "The new text content for the message"
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "new_message_text",
          "max_length": 4000,
          "error_message": "Message text cannot exceed 4000 characters"
        }
      ],
      "output": {
        "message_timestamp": "The timestamp of the updated message",
        "channel_id": "The channel containing the message",
        "text": "The updated message text",
        "success": "Boolean indicating if the update was successful"
      },
      "output_guidance": "Note that only messages sent by the bot can be updated. Include confirmation of the update with the new text."
    },
    "add_reaction": {
      "description": "Add an emoji reaction to a message",
      "parameters": {
        "type": "object",
        "required": ["channel_id", "message_timestamp", "emoji_name"],
        "properties": {
          "channel_id": {
            "type": "string",
            "description": "The ID of the channel containing the message"
          },
          "message_timestamp": {
            "type": "string",
            "description": "The timestamp of the message to react to"
          },
          "emoji_name": {
            "type": "string",
            "description": "The name of the emoji without colons (e.g., 'thumbsup', 'heart', 'fire')"
          }
        }
      },
      "rules": [],
      "output": {
        "success": "Boolean indicating if the reaction was added",
        "emoji": "The emoji that was added",
        "message_timestamp": "The timestamp of the message"
      },
      "output_guidance": "Confirm the reaction was added. Do not include colons around the emoji name."
    },
    "remove_reaction": {
      "description": "Remove an emoji reaction from a message",
      "parameters": {
        "type": "object",
        "required": ["channel_id", "message_timestamp", "emoji_name"],
        "properties": {
          "channel_id": {
            "type": "string",
            "description": "The ID of the channel containing the message"
          },
          "message_timestamp": {
            "type": "string",
            "description": "The timestamp of the message to remove reaction from"
          },
          "emoji_name": {
            "type": "string",
            "description": "The name of the emoji without colons (e.g., 'thumbsup', 'heart')"
          }
        }
      },
      "rules": [],
      "output": {
        "success": "Boolean indicating if the reaction was removed",
        "emoji": "The emoji that was removed",
        "message_timestamp": "The timestamp of the message"
      },
      "output_guidance": "Confirm the reaction was removed. Do not include colons around the emoji name."
    },
    "create_channel": {
      "description": "Create a new Slack channel (public or private)",
      "parameters": {
        "type": "object",
        "required": ["channel_name"],
        "properties": {
          "channel_name": {
            "type": "string",
            "description": "The name of the channel (lowercase letters, numbers, hyphens, underscores only)"
          },
          "is_private": {
            "type": "boolean",
            "description": "Whether the channel should be private (default: false)",
            "default": false
          },
          "description": {
            "type": "string",
            "description": "Optional: a description for the channel"
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "channel_name",
          "max_length": 80,
          "error_message": "Channel name must be 80 characters or less"
        },
        {
          "rule_type": "confirmation",
          "field": "channel_name",
          "message": "You are about to create a new channel named '{channel_name}'. This action cannot be easily undone. Proceed?"
        }
      ],
      "output": {
        "channel_id": "The ID of the newly created channel",
        "channel_name": "The name of the channel",
        "is_private": "Whether the channel is private",
        "success": "Boolean indicating if creation was successful"
      },
      "output_guidance": "Always include the channel_id as it's needed for subsequent operations on this channel."
    },
    "list_channels": {
      "description": "List all channels the bot has access to",
      "parameters": {
        "type": "object",
        "properties": {
          "types": {
            "type": "string",
            "description": "Comma-separated types: public_channel, private_channel, im, mpim (default: public_channel,private_channel)",
            "default": "public_channel,private_channel"
          },
          "limit": {
            "type": "number",
            "description": "Maximum number of channels to retrieve (default: 100)",
            "default": 100
          },
          "exclude_archived": {
            "type": "boolean",
            "description": "Exclude archived channels (default: true)",
            "default": true
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "limit",
          "min": 1,
          "max": 1000,
          "error_message": "Limit must be between 1 and 1000"
        }
      ],
      "output": {
        "channels": "Array of channel objects with id, name, is_private, member_count, and purpose",
        "total_count": "Total number of channels returned",
        "has_more": "Boolean indicating if there are more channels available"
      },
      "output_guidance": "Present channels in a readable format with their names, types (public/private/DM), and basic information."
    },
    "list_users": {
      "description": "Get a list of all users in the Slack workspace",
      "parameters": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "number",
            "description": "Maximum number of users to retrieve (default: 100)",
            "default": 100
          },
          "include_deleted": {
            "type": "boolean",
            "description": "Include deleted/deactivated users (default: false)",
            "default": false
          }
        }
      },
      "rules": [
        {
          "rule_type": "limit",
          "field": "limit",
          "min": 1,
          "max": 1000,
          "error_message": "Limit must be between 1 and 1000"
        }
      ],
      "output": {
        "users": "Array of user objects with id, name, real_name, email, is_bot, and profile information",
        "total_count": "Total number of users returned"
      },
      "output_guidance": "Present users in a readable format. Include relevant profile information like display name, email, and status."
    },
    "get_user_info": {
      "description": "Get detailed information about a specific user",
      "parameters": {
        "type": "object",
        "required": ["user_id"],
        "properties": {
          "user_id": {
            "type": "string",
            "description": "The ID of the user (e.g., U1234567890)"
          }
        }
      },
      "rules": [],
      "output": {
        "user_id": "The user's ID",
        "name": "The user's username",
        "real_name": "The user's full name",
        "email": "The user's email address",
        "profile": "Profile information including avatar, status, title, and timezone",
        "is_bot": "Whether the user is a bot",
        "is_admin": "Whether the user is a workspace admin"
      },
      "output_guidance": "Present user information in a clear, readable format with all relevant profile details."
    },
    "upload_file": {
      "description": "Upload and share a file to Slack channels or direct messages",
      "parameters": {
        "type": "object",
        "required": ["filename", "file_content"],
        "properties": {
          "filename": {
            "type": "string",
            "description": "The name of the file to upload"
          },
          "file_content": {
            "type": "string",
            "description": "The file content (base64 encoded for binary files, or plain text)"
          },
          "channel_ids": {
            "type": "array",
            "description": "Array of channel IDs where the file should be shared",
            "items": {
              "type": "string"
            }
          },
          "title": {
            "type": "string",
            "description": "Optional: title for the file"
          },
          "initial_comment": {
            "type": "string",
            "description": "Optional: message to include with the file"
          }
        }
      },
      "rules": [
        {
          "rule_type": "confirmation",
          "field": "file_content",
          "message": "You are about to upload a file named '{filename}' to Slack. Proceed?"
        }
      ],
      "output": {
        "file_id": "The ID of the uploaded file",
        "filename": "The name of the file",
        "url": "URL to access the file",
        "channels": "Array of channel IDs where file was shared",
        "success": "Boolean indicating if upload was successful"
      },
      "output_guidance": "Confirm the file was uploaded successfully and indicate where it was shared. Include the file URL if available."
    }
  }
}
